# ngrokå…¬ç½‘è®¿é—®æœ€ç»ˆè®¾ç½®æ€»ç»“

## ðŸŽ‰ é—®é¢˜å·²è§£å†³ï¼

ç»è¿‡å¤šæ¬¡è°ƒè¯•å’Œé…ç½®ä¼˜åŒ–ï¼Œngrokå…¬ç½‘è®¿é—®åŠŸèƒ½çŽ°åœ¨å·²ç»å®Œå…¨æ­£å¸¸å·¥ä½œã€‚

## âœ… è§£å†³çš„é—®é¢˜

1. **é…ç½®æ–‡ä»¶æ ¼å¼é”™è¯¯** - ä¿®å¤äº†ngrok 2.xå’Œ3.xçš„é…ç½®æ ¼å¼
2. **ç‰ˆæœ¬å…¼å®¹æ€§** - è‡ªåŠ¨æ£€æµ‹ngrokç‰ˆæœ¬å¹¶é€‰æ‹©æ­£ç¡®çš„é…ç½®
3. **WebSocketæ”¯æŒ** - è‡ªåŠ¨é…ç½®æ­£ç¡®çš„WebSocketåœ°å€
4. **å¯åŠ¨è„šæœ¬ä¼˜åŒ–** - æ™ºèƒ½é…ç½®é€‰æ‹©å’Œé”™è¯¯å¤„ç†

## ðŸ“ æœ€ç»ˆæ–‡ä»¶ç»“æž„

### é…ç½®æ–‡ä»¶
- **`ngrok.yml`** - ngrok 2.xé…ç½®æ–‡ä»¶ï¼ˆå·²éªŒè¯ï¼‰
- **`ngrok3.yml`** - ngrok 3.xé…ç½®æ–‡ä»¶ï¼ˆå·²éªŒè¯ï¼‰

### å¯åŠ¨è„šæœ¬
- **`start-mobile-ngrok.sh`** - åŸºç¡€ç‰ˆæœ¬å¯åŠ¨è„šæœ¬
- **`start-mobile-ngrok-advanced.sh`** - é«˜çº§ç‰ˆæœ¬å¯åŠ¨è„šæœ¬ï¼ˆæŽ¨èï¼‰

### æµ‹è¯•å·¥å…·
- **`test-ngrok-config.sh`** - é…ç½®æ–‡ä»¶éªŒè¯è„šæœ¬

## ðŸš€ ä½¿ç”¨æ–¹æ³•

### 1. å¿«é€Ÿå¯åŠ¨ï¼ˆæŽ¨èï¼‰

```bash
# ä½¿ç”¨é«˜çº§å¯åŠ¨è„šæœ¬
./start-mobile-ngrok-advanced.sh

# æˆ–ä½¿ç”¨åŸºç¡€å¯åŠ¨è„šæœ¬
./start-mobile-ngrok.sh
```

### 2. é…ç½®æ–‡ä»¶éªŒè¯

```bash
# æµ‹è¯•é…ç½®æ–‡ä»¶æ˜¯å¦æ­£ç¡®
./test-ngrok-config.sh
```

## ðŸ”§ æŠ€æœ¯ç»†èŠ‚

### ç‰ˆæœ¬æ£€æµ‹é€»è¾‘
```bash
# è‡ªåŠ¨æ£€æµ‹ngrokç‰ˆæœ¬
NGROK_VERSION=$(ngrok version | grep -oE '[0-9]+\.[0-9]+\.[0-9]+' | head -1)

# æ ¹æ®ç‰ˆæœ¬é€‰æ‹©é…ç½®
if [[ "$NGROK_VERSION" == 3.* ]]; then
    NGROK_CONFIG="ngrok3.yml"
    NGROK_CMD="ngrok http 5173 --config $NGROK_CONFIG --log=stdout"
elif [[ "$NGROK_VERSION" == 2.* ]]; then
    NGROK_CONFIG="ngrok.yml"
    NGROK_CMD="ngrok start --config $NGROK_CONFIG frontend"
fi
```

### WebSocketé…ç½®æ›´æ–°
```bash
# è‡ªåŠ¨æ›´æ–°çŽ¯å¢ƒå˜é‡
cat > .env.development << EOF
VITE_API_BASE_URL=https://$NGROK_DOMAIN
VITE_WS_BASE_URL=wss://$NGROK_DOMAIN
VITE_HOST=$NGROK_DOMAIN
EOF
```

## ðŸ“± æ‰‹æœºç«¯è®¿é—®

å¯åŠ¨æˆåŠŸåŽï¼Œä½ ä¼šçœ‹åˆ°ï¼š

```
ðŸŽ‰ æ‰€æœ‰æœåŠ¡å¯åŠ¨å®Œæˆï¼

ðŸ“± æ‰‹æœºè®¿é—®åœ°å€ï¼ˆå…¬ç½‘ï¼‰ï¼š
   https://abc123.ngrok.io

ðŸ”Œ WebSocketé…ç½®ï¼š
   å·²è‡ªåŠ¨é…ç½®ä¸º: wss://abc123.ngrok.io
   è§£å†³æ‰‹æœºç«¯è¿žæŽ¥é”™è¯¯é—®é¢˜
```

## ðŸ§ª æ•…éšœæŽ’é™¤

### å¦‚æžœä»æœ‰é—®é¢˜

1. **è¿è¡Œæµ‹è¯•è„šæœ¬**ï¼š
   ```bash
   ./test-ngrok-config.sh
   ```

2. **æ£€æŸ¥ngrokçŠ¶æ€**ï¼š
   ```bash
   # è®¿é—®ç®¡ç†é¢æ¿
   http://localhost:4040
   ```

3. **ä½¿ç”¨WebSocketæµ‹è¯•**ï¼š
   ```
   https://your-domain.ngrok.io/websocket-test
   ```

## ðŸ”’ å®‰å…¨æé†’

- **ä»…ç”¨äºŽå¼€å‘æµ‹è¯•**
- **ä¸è¦åœ¨å…¬ç½‘çŽ¯å¢ƒå¤„ç†æ•æ„Ÿæ•°æ®**
- **å®šæœŸæ›´æ¢authtoken**
- **åŠæ—¶å…³é—­ä¸éœ€è¦çš„éš§é“**

## ðŸ“‹ åŠŸèƒ½ç‰¹æ€§

### âœ… å·²å®žçŽ°
- è‡ªåŠ¨ç‰ˆæœ¬æ£€æµ‹
- æ™ºèƒ½é…ç½®é€‰æ‹©
- WebSocketè‡ªåŠ¨é…ç½®
- æœåŠ¡çŠ¶æ€ç›‘æŽ§
- è‡ªåŠ¨é”™è¯¯æ¢å¤
- å®žæ—¶çŠ¶æ€æ˜¾ç¤º

### ðŸš€ ä¼˜åŠ¿
- **ä¸€é”®å¯åŠ¨** - æ— éœ€æ‰‹åŠ¨é…ç½®
- **æ™ºèƒ½é€‚é…** - è‡ªåŠ¨é€‰æ‹©æœ€ä½³é…ç½®
- **é”™è¯¯å¤„ç†** - è‡ªåŠ¨é‡è¯•å’Œæ¢å¤
- **å®žæ—¶ç›‘æŽ§** - æœåŠ¡çŠ¶æ€å®žæ—¶æ˜¾ç¤º

## ðŸŽ¯ æ€»ç»“

çŽ°åœ¨ä½ å¯ä»¥ï¼š

1. **ä¸€é”®å¯åŠ¨**æ‰€æœ‰æœåŠ¡
2. **è‡ªåŠ¨èŽ·å–**å…¬ç½‘è®¿é—®åœ°å€
3. **å®Œç¾Žæ”¯æŒ**WebSocketè¿žæŽ¥
4. **æ‰‹æœºç«¯è®¿é—®**æ— éœ€WiFiè¿žæŽ¥
5. **å®žæ—¶å¯¹è¯**åŠŸèƒ½å®Œå…¨æ­£å¸¸

**æŽ¨èä½¿ç”¨ `start-mobile-ngrok-advanced.sh` è„šæœ¬ï¼Œå®ƒæä¾›äº†æœ€å®Œæ•´çš„åŠŸèƒ½å’Œæœ€ä½³çš„ç¨³å®šæ€§ã€‚**

ðŸŽ‰ **ngrokå…¬ç½‘è®¿é—®åŠŸèƒ½å·²å®Œå…¨å°±ç»ªï¼**
